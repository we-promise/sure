<%
  header_title "Complete Your Account"
%>

<div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md">
  <h3 class="text-sm font-medium text-blue-800 mb-2">Create Your Account</h3>
  <p class="text-sm text-blue-700">
    Please confirm your details to complete account creation with your <%= @pending_auth["provider"] %> identity.
  </p>
</div>

<%= styled_form_with model: @user, url: create_user_oidc_account_path, class: "space-y-4", data: { turbo: false } do |form| %>
  <div class="p-4 bg-container border border-secondary rounded-md">
    <p class="text-sm text-secondary mb-1">Email (from SSO provider)</p>
    <p class="text-sm text-primary font-medium"><%= @pending_auth["email"] %></p>
  </div>

  <%= form.text_field :first_name,
    label: "First Name",
    placeholder: "Enter your first name",
    autofocus: true %>

  <%= form.text_field :last_name,
    label: "Last Name",
    placeholder: "Enter your last name" %>

  <%= form.submit "Create Account" %>
<% end %>

<div class="mt-6 text-center">
  <%= render DS::Link.new(
    text: "Cancel",
    href: new_session_path,
    variant: :default,
    class: "font-medium text-sm text-primary hover:underline transition"
  ) %>
</div>
