<!DOCTYPE html>
<% theme = Current.user&.theme || "system" %>
<html
  lang="<%= I18n.locale %>"
  data-theme="<%= theme %>"
  data-controller="theme"
  data-theme-user-preference-value="<%= Current.user&.theme || "system" %>"
  class="h-full text-primary overflow-hidden lg:overflow-auto font-sans">
<head>
  <%= render "layouts/shared/head" %>
  <title><%= t("doorkeeper.layouts.admin.title") %></title>
</head>
<body class="h-full bg-surface antialiased overflow-y-auto">
  <nav class="bg-container border-b border-primary px-6 py-4 mb-8">
    <div class="max-w-7xl mx-auto flex items-center justify-between">
      <div class="flex items-center gap-8">
        <%= link_to oauth_applications_path, class: "text-lg font-bold text-primary flex items-center gap-2" do %>
          <%= image_tag "logo-color.png", class: "w-8" %>
          <span><%= t("doorkeeper.layouts.admin.nav.oauth2_provider") %></span>
        <% end %>

        <div class="flex items-center gap-4">
          <%= link_to t("doorkeeper.layouts.admin.nav.applications"), oauth_applications_path, 
              class: class_names("text-sm font-medium transition-colors", 
                                request.path == oauth_applications_path ? "text-primary" : "text-secondary hover:text-primary") %>
          
          <% if respond_to?(:root_path) %>
            <%= link_to t("doorkeeper.layouts.admin.nav.home"), root_path, class: "text-sm font-medium text-secondary hover:text-primary transition-colors" %>
          <% end %>
        </div>
      </div>
    </div>
  </nav>

  <main class="max-w-7xl mx-auto px-6 pb-12">
    <%- if flash[:notice].present? %>
      <div class="mb-6 p-4 rounded-xl bg-success/10 border border-success/20 text-success text-sm font-medium">
        <%= flash[:notice] %>
      </div>
    <% end -%>

    <div class="bg-container rounded-2xl shadow-border-xs p-6 md:p-8">
      <%= yield %>
    </div>
  </main>
</body>
</html>